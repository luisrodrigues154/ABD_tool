<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
          name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>[ABD_tool]</title>

    <link href="bootstrap-4.3.1-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="custom/css/index.css" rel="stylesheet">
    <link href="custom/css/styles.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid vh-100 p-0 p-xl-3">
    <div class="m-auto border border-light rounded-lg d-flex flex-column overflow-auto" id="wrapper">
        <div class="justify-content-start align-content-center p-1 border-bottom border-dark sticky-top bg-white"
             id="header">
            <button aria-pressed="false" class="btn btn-outline-dark" data-path="/2/1"
                    data-toggle="button" type="button">Code
            </button>
            <button aria-pressed="false" class="btn btn-outline-dark" data-path="/2/2/1"
                    data-toggle="button" type="button">Objects
            </button>
            <button aria-pressed="false" class="btn btn-outline-dark" data-path="/2/2/2"
                    data-toggle="button" type="button">Events
            </button>

            <button aria-pressed="false" class="btn btn-outline-dark" data-path="/1/1" data-toggle="button"
                    type="button">Execution Flow
            </button>
            <label class="ml-5 mt-2">At Function: <label class="ml-1 bar-rhs" id="func_name_label">NA</label></label>
            <label class="ml-4">Environment:<label class="ml-1 bar-rhs" id="env_label">NA</label></label> </label>
            <label class="float-right d-block menu-title my-auto">[ABD_Tool]</label>
            
        </div>
        <div class="flex-fill position-relative" id="content">
            <div class="position-absolute w-100 h-100 pane-opacity" data-path="/0">
                <div class="w-100 h-100 d-flex">
                    <span class="m-auto">No panes selected.</span>
                </div>
            </div>
            <div class="h-100 w-100 pane-opacity" data-path="/1">
                <div class="w-100 h-100 d-block pane-opacity" data-path="/1/1">
                    <div class="col-lg h-100">
                        <div class="h-100 w-100 pane-opacity overflow-hidden" data-path="/1">
                            <div class="container-fluid mt-1">
                                <label class="inner-title">Execution graph</label>
                            </div>
                            <div class="col-lg h-100 overflow-auto" id="graph-container">
                                <svg class="container-fluid" id="exec-flow-graph"></svg>
                            </div>
                            
                        </div>
                        
                    </div>
                    

                </div>
            </div>
            <div class="h-100 w-100 pane-opacity" data-path="/2">
                <div class="container-fluid h-100">
                    <div class="row h-100">
                        <div class="col-lg h-100 border overflow-auto" data-path="/2/1">
                            
                            <div class="row flex-grow-1">
                                <div class="container-fluid mt-1">
                                    <label class="inner-title" >Code</label>
                                </div>
                                <div class="col-lg h-100" id="code_container">
                                    
                                </div>
                            </div>
                        </div>
                        <div class="col-lg h-100 border " data-path="/2/2">
                            <div class="d-flex flex-column h-100">
                                <div class="row flex-grow-1 overflow-hidden" data-path="/2/2/1">
                                    <div class="container-fluid mt-1">
                                        <label class="inner-title">Objects</label>
                                        <button type="button" class="btn btn-secondary btn-sm float-right" data-toggle="modal" data-target="#track_modal">
                                            Track objects
                                        </button>
                                    </div>
                                    <div class="col-lg h-100 p-3 overflow-auto" id="objects_container">
                                    
                                    </div>
                                </div>
                                <div class="row flex-grow-1 border-top overflow-hidden" data-path="/2/2/2">
                                    <div class="container-fluid mt-1">
                                        <label class="inner-title">Events</label>
                                    </div>
                                    <div class="col-lg h-100 p-3 overflow-auto" id="events_container">
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODALS HERE-->
<!--Track objects selection-->
<div class="modal fade" id="track_modal" tabindex="-1" role="dialog" aria-labelledby="trackModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-width modal-settings bg-white" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title dialog-title" id="modalTitle" >Select objects to track</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body modal-settings-body" id="modal_body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary modal-track-bto" onclick="updateDisplay();" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>

<!--Context selection-->
<div class="modal fade " id="context_modal" tabindex="-1" role="dialog" aria-labelledby="contextModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-width modal-settings bg-white" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title dialog-title" id="context_modal_title">Select the context</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body modal-settings-body dialog-text" id="context_modal_body">
            
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary modal-track-bto" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>

<script src="jquery/js/jquery-3.5.1.min.js"></script>
<script src="bootstrap-4.3.1-dist/js/bootstrap.bundle.min.js"></script>
<script src="d3_lib/d3.js"></script>
<script src="custom/js/objects.js"></script>
<script src="custom/js/events.js"></script>
<script src="custom/js/code.js"></script>
<script src="custom/js/blocks.js"></script>
<script src="custom/js/index.js"></script>
<script src="custom/js/eventsProcessor.js"></script>
<script src="custom/js/objProcessor.js"></script>
<script src="custom/js/graphProcessor.js"></script>
<script src="custom/js/codeProcessor.js"></script>

</body>
</html>